# 会员专区模拟课程PRD

## 1. 文档信息

| 项目 | 内容 |
|------|------|
| 文档名称 | 会员专区模拟课程PRD |
| 版本 | v1.0 |
| 日期 | 2025-12-09 |
| 适用范围 | SSG迁移前的会员专区模拟课程实现 |
| 关联文档 | frontend/docs/1126新旧体系重构prd/00 老的体系与新的体系.md |

## 2. 背景与目标

### 2.1 背景
- 当前SPA架构，计划通过vite-plugin-ssr进行SSG迁移
- 首页"会员专区"目前为空，无模拟课程展示
- 新体系下所有"Intermediate"阶段课程均属于会员课程
- 未来将实现RBAC权限体系

### 2.2 目标
- 在SSG迁移前为会员专区填充模拟课程数据
- 确保SSG迁移后能生成完整的会员专区页面和结构化数据
- 提升用户体验，展示会员可获得的课程内容
- 为未来RBAC体系预留架构支持

## 3. 功能需求

### 3.1 会员专区课程展示
- 展示所有"Intermediate"阶段的课程
- 展示10门会员专享课占位（标记"即将上线"）
- 保留课程价格和会员权益描述

### 3.2 数据标记
- 阶段仍使用Beginner/Intermediate/Advanced
- 会员属性通过`audienceType: 'membership'`或`offers.membership`标记
- 不新增阶段枚举

### 3.3 SEO要求
- 生成会员专区页面的Sitemap
- 生成符合Schema.org标准的JSON-LD
- 生成适当的Meta标签

## 4. 数据模型

### 4.1 课程数据结构
```typescript
interface Course {
  id: number;
  slug: string;
  title: string;
  stage: 'basic' | 'intermediate' | 'advanced';
  audienceType: 'free' | 'membership'; // 新增字段，标记是否为会员课程
  // 其他现有字段...
}
```

### 4.2 会员专享课占位数据结构
```typescript
interface MembershipCoursePlaceholder {
  id: number;
  slug: string;
  title: string;
  stage: 'intermediate';
  audienceType: 'membership';
  status: 'coming_soon'; // 标记即将上线
  // 其他必要字段...
}
```

## 5. 技术实现建议

### 5.1 数据来源
- 暂用静态课程表，包含Intermediate全量课程
- 新增10门会员专享课占位

### 5.2 路由与SEO
- 使用现有的`/program/:slug`路由
- 确保会员专区页面的JSON-LD、Sitemap、Meta配置在静态构建时生效

### 5.3 权限预留
- 在Pinia courseStore中添加会员标记判断逻辑
- 在路由守卫中预留RBAC接入点
- 当前阶段仅做前端标识，不做真实鉴权

### 5.4 代码修改点
- `frontend/src/store/courseStore.ts`：更新模拟课程数组，添加audienceType字段
- 会员专区页面：注入模拟课程数据
- 确保SSG构建时能正确处理会员课程数据

## 6. 验收标准

### 6.1 功能验收
- 会员专区页面可正常渲染课程卡片
- Intermediate阶段课程正确显示在会员专区
- 会员专享课占位正确显示"即将上线"

### 6.2 SEO验收
- 静态化后能生成会员专区页面
- 生成对应的Sitemap
- 生成符合标准的JSON-LD
- Meta标签正确生成

### 6.3 技术验收
- 代码符合TypeScript类型检查
- 构建过程无错误
- 与现有架构保持一致
- 为未来RBAC体系预留了扩展点

## 7. 风险与依赖

| 风险/依赖 | 描述 | 缓解措施 |
|-----------|------|----------|
| 数据一致性 | 模拟数据与真实数据可能存在差异 | 定期同步数据结构，确保与后端API设计一致 |
| RBAC集成 | 未来RBAC体系可能与当前设计存在冲突 | 预留灵活的权限判断接口，便于后续调整 |
| SSG迁移 | SSG迁移过程中可能出现数据处理问题 | 提前测试静态化构建流程，确保会员课程数据能正确处理 |

## 8. 后续计划

| 阶段 | 时间 | 内容 |
|------|------|------|
| 当前 | 2025-12 | 实现会员专区模拟课程 |
| 近期 | 2025-12-15 | 完成SSG迁移 |
| 中期 | 2026-01 | 集成真实RBAC体系 |
| 长期 | 2026-Q1 | 补充真实会员专享课程 |