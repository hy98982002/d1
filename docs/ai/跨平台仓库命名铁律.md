好，这是你要的 **《跨平台仓库命名铁律.md》**。
我会按**工程级标准**来写，不留模糊空间，**可以直接丢进 repo 的 `docs/` 目录作为长期宪法级规则**。

---

# 跨平台仓库命名铁律（必读 · 强制执行）

> 本文档用于确保本仓库在 **Windows / macOS / Linux**
> 以及 **Git / CI / 压缩 / 远程同步 / AI 自动生成** 等所有场景下
> **100% 可用、可 checkout、可协作、不可炸**。

---

## 一、适用范围（非常重要）

**以下对象全部受本规则约束：**

* 文件名（所有后缀）
* 文件夹名
* Markdown / Docs / PRD / Skill / 临时文档
* 前端源码文件（`.ts` `.vue` `.css` 等）
* 后端源码文件
* 自动生成文件（AI / Script / CI）
* 历史归档文件（不要因为“只是文档”就例外）

👉 **没有例外。**

---

## 二、绝对禁止的字符（Windows 硬限制）

以下字符 **在 Windows NTFS 中非法**，
**一旦出现，`git checkout` 将直接失败**：

```
*   ?   :   <   >   |   "   /   \
```

### ❌ 禁止示例（真实踩雷案例）

```
02-00对01*的建议.md
FAQ:常见问题.md
设计稿<最终>.md
路径/说明.md
```

👉 **这些文件在 macOS 可以存在，但在 Windows 会直接炸仓库**

---

## 三、允许使用的字符（白名单）

**只允许以下字符集合：**

### 1️⃣ 英文与数字

```
a–z  A–Z  0–9
```

### 2️⃣ 安全符号（推荐）

```
-   _
```

### 3️⃣ 中文（允许，但要克制）

```
中文文件名 ✅
```

⚠️ 注意：

* 中文 **可以用**
* 但 **不要过长**
* 不要中英混乱堆叠

---

## 四、推荐命名风格（工程实践级）

### ✅ 推荐（稳定、可维护）

```
02-00-对01-star-的建议.md
stagekey-home-state-fix-plan.md
frontend-routing-rules.skill.md
```

### ❌ 不推荐（高风险 / 难维护）

```
【最终版】首页状态修复计划！！！.md
02*01?版本:最终.md
文档（真的最终）.md
```

---

## 五、特殊字符的标准替代规则（强制）

| 原字符     | 统一替换为     |        |
| ------- | --------- | ------ |
| `*`     | `_star_`  |        |
| `?`     | `_q_`     |        |
| `:`     | `-`       |        |
| `<`     | `_lt_`    |        |
| `>`     | `_gt_`    |        |
| `       | `         | `_or_` |
| `"`     | `_quote_` |        |
| `/` `\` | `-`       |        |

### 示例

```
02-00对01*的建议.md
↓
02-00对01-star-的建议.md
```

---

## 六、Git 操作强制要求（非常重要）

### ✅ 改名必须使用 `git mv`

```bash
git mv old-name.md new-name.md
```

❌ 禁止：

* Finder / Explorer 直接改名
* 批量脚本不经确认直接 rename

原因：

* 会破坏 Git 历史
* 会制造诡异 diff
* 会让 AI / CI 判断失效

---

## 七、AI / 自动生成文件的额外铁律

**所有 AI（Claude / Codex / Cursor / ChatGPT）生成的文件名：**

必须满足：

```
- 只用 a-z 0-9 - _
- 不得包含特殊符号
- 不得包含表情
- 不得使用“最终 / 真正最终 / last / final-final”
```

👉 **AI 不是例外，是高风险源头**

---

## 八、违反规则的处理原则（不讲情面）

* ❌ 任何违反本规则的提交
* ❌ 在 Code Review / CI / 协作中被发现

👉 **必须立刻修复后再继续**

理由只有一个：

> **跨平台可 checkout 是工程底线，不是风格选择**

---

## 九、推荐配套措施（强烈建议）

### 1️⃣ pre-commit 检查（推荐）

* 自动扫描非法字符
* 提交前直接阻断

### 2️⃣ CLAUDE.md / Skill 注入规则

```md
## 文件命名（强制）
- 禁止 Windows 非法字符：* ? : < > | " / \
- 所有生成文件必须跨平台可 checkout
```

---

## 十、一句话铁律（给人看的）

> **如果一个文件名不能在 Windows checkout，
> 那它就不配存在于仓库中。**

---

### ✅ 建议你现在就做的三件事（按优先级）

1. 把本文件放到：

   ```
   docs/跨平台仓库命名铁律.md
   ```
2. 在 `CLAUDE.md` / `frontend/CLAUDE.md` 引用本规则
3. 让我帮你写一个 **pre-commit 自动拦截脚本**

如果你下一步要 **pre-commit hook 版**，我可以直接给你 **可复制脚本**（含 Windows / Mac）。
